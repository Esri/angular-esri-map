!function(e){"use strict";e.module("esri.core",[])}(angular),function(e){"use strict";e.module("esri.core").factory("esriLoader",["$q",function(e){function r(r){var n=e.defer(),a=r||{};if(t())return n.reject("ArcGIS API for JavaScript is already loaded."),n.promise;var i=document.createElement("script");return i.type="text/javascript",i.src=a.url||window.location.protocol+"//js.arcgis.com/3.21compact",i.onload=function(){n.resolve(window.require)},document.body.appendChild(i),n.promise}function t(){return"undefined"!=typeof window.require}function n(r,n){var a=e.defer();return t()?"string"==typeof r?(require([r],function(e){a.resolve(e)}),a.promise.then(function(e){return n&&"function"==typeof n&&n(e),e})):r instanceof Array?(require(r,function(){var e=Array.prototype.slice.call(arguments);a.resolve(e)}),a.promise.then(function(e){return n&&"function"==typeof n&&n.apply(this,e),e})):(a.reject("An Array<String> or String is required to load modules."),a.promise):(a.reject("Trying to call esriLoader.require(), but the ArcGIS API for JavaScript has not been loaded yet. Run esriLoader.bootstrap() if you are lazy loading the ArcGIS API for JavaScript."),a.promise)}return{bootstrap:r,isLoaded:t,require:n}}])}(angular),function(e){"use strict";e.module("esri.core").service("esriRegistry",["$q",function(e){var r={};return{_register:function(t,n){r[t]||(r[t]=e.defer());var a=r[t];return n.then(function(e){return a.resolve(e),e},function(e){return a.reject(e),e}),function(){delete r[t]}},get:function(t){if(r[t])return r[t].promise;var n=e.defer();return r[t]=n,n.promise}}}])}(angular),function(e){"use strict";e.module("esri.core").factory("esriMapUtils",["$q","esriLoader",function(e,r){function t(e){return e instanceof Array}function n(e,r){return"esri.geometry.Extent"===e.declaredClass?e:new r(e)}var a={};return a.addCustomBasemap=function(e,n){return r.require("esri/basemaps").then(function(r){var a=n.baseMapLayers;return!t(a)&&t(n.urls)&&(a=n.urls.map(function(e){return{url:e}})),t(a)&&(r[e]={baseMapLayers:a,thumbnailUrl:n.thumbnailUrl,title:n.title}),r})},a.createMap=function(e,t){return r.require(["esri/map","esri/geometry/Extent"]).then(function(r){var a=r[0],i=r[1];return t&&t.hasOwnProperty("extent")&&(t.extent=n(t.extent,i)),new a(e,t)})},a.createWebMap=function(t,a,i,o){var s=e.defer();return r.require(["esri/arcgis/utils","esri/geometry/Extent"],function(e,r){i.hasOwnProperty("extent")&&(i.extent=n(i.extent,r)),e.createMap(t,a,{mapOptions:i}).then(function(r){o.layerInfos=e.getLegendLayers(r),o.itemInfo=r.itemInfo,s.resolve(r.map)})}),s.promise},a}])}(angular),function(e){"use strict";e.module("esri.core").factory("esriLayerUtils",["esriLoader",function(e){function r(e){var r;return"string"==typeof e&&(r=[],e.split(",").forEach(function(e){var t=parseInt(e);isNaN(t)||r.push(t)})),r}function t(e,r){return"esri.InfoTemplate"===e.declaredClass?e:e instanceof Array&&2===e.length?new r(e[0],e[1]):new r(e.title,e.content)}var n={};return n.createFeatureLayer=function(r,n){return e.require(["esri/layers/FeatureLayer","esri/InfoTemplate"]).then(function(e){var a=e[0],i=e[1];return n&&(n.infoTemplate&&(n.infoTemplate=t(n.infoTemplate,i)),n.hasOwnProperty("mode")&&(n.mode=a[n.mode])),new a(r,n)})},n.createVectorTileLayer=function(r,t){return e.require(["esri/layers/VectorTileLayer"]).then(function(e){var n=e[0];return new n(r,t)})},n.createDynamicMapServiceLayer=function(n,a,i){return e.require(["esri/layers/ArcGISDynamicMapServiceLayer","esri/InfoTemplate","esri/layers/ImageParameters"]).then(function(e){var o,s=e[0],u=e[1],c=e[2];if(a){if(a.infoTemplates)for(var f in a.infoTemplates)a.infoTemplates.hasOwnProperty(f)&&(a.infoTemplates[f].infoTemplate=t(a.infoTemplates[f].infoTemplate,u));if("object"==typeof a.imageParameters&&"esri.layers.ImageParameters"!==a.imageParameters.declaredClass){var l=new c;for(var m in a.imageParameters)a.imageParameters.hasOwnProperty(m)&&(l[m]=a.imageParameters[m]);a.imageParameters=l}}return o=new s(n,a),i&&o.setVisibleLayers(r(i)),o})},n.createInfoTemplate=function(r){return e.require("esri/InfoTemplate").then(function(e){return t(r,e)})},n}])}(angular);